<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 映射文件与持久化接口通过namespace属性进行关联，-->
<mapper namespace="com.ordersys.dao.LoginDao">
	<resultMap type="Login" id="LoginMap">
	 	<id property="id" column="id"/>
	 	<result property="name" column="name"/>
	 	<result property="password" column="password"/>
	 	<result property="roleId" column="roleId"/>
	 	<association property="role" column="roleId" select="com.ordersys.dao.RoleDao.findById"/>
	 </resultMap>
	 <select id="list" resultMap="LoginMap">
	 	SELECT * FROM admin
	 </select>
 	<select id="find"  resultType="Login" parameterType="Login" >
 		SELECT * FROM admin WHERE name=#{name}
 	</select>
 	<select id="findName"  resultType="String"  parameterType="int">
 		SELECT TypeName FROM role WHERE id=#{id}
 	</select>
 	<insert id="add" parameterType="Login">
 		INSERT INTO admin VALUE (NULL,#{name},#{password},#{roleId})
 	</insert>
</mapper>